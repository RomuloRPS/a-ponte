<!--
  Generated template for the PostPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Post</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-item lines="none">
    <ion-avatar slot="start" [routerLink]="'/users/' + post.user_id">
      <img src="{{ post.face }}">
    </ion-avatar>
    <ion-label>
      <ion-text color="primary" class="post-author" [routerLink]="'/users/' + post.user_id">
        <h2>{{ post.name }}</h2>

      </ion-text>
      <span class="post-time">
      <ion-icon name="timer-outline"></ion-icon>
        {{ post.time }}
    </span>
    </ion-label>
  </ion-item>

  <div class="ion-padding">
    <img class="full-image" *ngIf="post.image" src="{{ post.image }}">
    <p>{{ post.content}}</p>

    <p>
      <a (click)="toggleLike(post)" class="subdued">
        <ion-icon name="heart" color="danger" *ngIf="post.liked"></ion-icon>
        <ion-icon name="heart-outline" color="medium" *ngIf="!post.liked"></ion-icon>
        {{ post.likeCount}}
      </a>
      <a class="subdued">
        <ion-icon name="chatbox-outline" color="primary"></ion-icon>
        {{ post.commentCount}}
      </a>
    </p>
  </div>

  <ion-list>
    <ion-item class="post-comment" *ngFor="let comment of post.comments">
      <ion-avatar slot="start" [routerLink]="'/users/' + comment.user_id">
        <img src="{{ comment.face }}">
      </ion-avatar>
      <ion-label class="ion-text-wrap">
        <ion-text color="primary" class="post-author">
          <h3>
            {{ comment.name }}
          </h3>

        </ion-text>
        <p>{{ comment.content}}</p>
        <a class="subdued like-count">
          <ion-icon name="heart" color="danger" *ngIf="comment.liked"></ion-icon>
          <ion-icon name="heart-outline" color="medium" *ngIf="!comment.liked"></ion-icon>
          {{ comment.likeCount}}
        </a>
        <span class="post-time">
        <ion-icon name="timer-outline"></ion-icon>
          {{ comment.time }}
      </span>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
